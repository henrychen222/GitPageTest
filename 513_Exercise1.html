<html>
 <head>
  <meta name="robots" content="noindex,nofollow">
  <link rel="stylesheet" type="text/css"
    href="http://undcemcs01.und.edu/~wen.chen.hu/css/2.css" />

  <link href='http://undcemcs01.und.edu/~wen.chen.hu/SyntaxHighlighter/shCore.css' rel='stylesheet' type='text/css'/>
  <link href='http://undcemcs01.und.edu/~wen.chen.hu/SyntaxHighlighter/shThemeDefault.css' rel='stylesheet' type='text/css'/>
  <script src='http://undcemcs01.und.edu/~wen.chen.hu/SyntaxHighlighter/shCore.js' type='text/javascript'></script>
  <script src='http://undcemcs01.und.edu/~wen.chen.hu/SyntaxHighlighter/shBrushPerl.js' type='text/javascript'></script>
  <script language='javascript'> 
   SyntaxHighlighter.config.bloggerMode = true;
   SyntaxHighlighter.config.clipboardSwf = 'http://undcemcs01.und.edu/~wen.chen.hu/SyntaxHighlighter/clipboard.swf';
   SyntaxHighlighter.all( );
  </script> 

  <script type="text/javascript">
   function Convert( ) {
     var  i, code, val = "";
     for ( i = 0;  i < document.getElementById("password").value.length;  i++ ) {
       code = Math.floor( document.getElementById("password").value.charAt(i).charCodeAt(0) * 1.5 )
              + Math.floor( ( Math.random( ) * 30 ) );
       val = val.concat( String.fromCharCode( code ) );
     }
     document.getElementById("ciphertext").value = val;
   }
  </script>

  <title>Programming Exercise I: An online bookstore using a relational database</title>
 </head>

 <body text="#000000" vLink="#3366CC" link="#3366CC" bgColor="#ffffff" alink="#3366CC" background="http://undcemcs01.und.edu/~wen.chen.hu/figure/bg11.png">

<center>
 <font color="#3366CC" face="Helvetica" size="+2">
  <b>Programming Exercise I: An Online Bookstore Using a Relational Database<br />
  <font size="+1">(Industry-Level, Second-to-None Comprehensive Specifications)</font></b>
 </font>
</center>

<hr color="#3366CC" size="4" noshade>
<br class="s" />

<center>
 <font color="#3366CC" face="Helvetica" size="+1">
  <b><blink>Absolutely no copying others’ works</blink></b>
 </font>
</center>
<br class="s" />

<font color="#3366CC" face="Helvetica" size="+1">
 <b>Development Requirements</b>
</font><br />

When start developing the exercise, follow the two requirements below:

<ul>
 <li>Have to use the Oracle 12c, an object-relational database management system.
 </li>

 <li>The system entry page must be located at <nobr><code>http://undcemcs02.und.edu/~userid/513/1/</code></nobr> and all pages must be hosted by <nobr><code>http://undcemcs02.und.edu/~userid/</code></nobr> .
 </li>

</ul>

<hr color="#3366CC" size="3" noshade>
<br class="s" />

<!=======================================================================!>

<font color="#3366CC" face="Helvetica" size="+1">
 <b>Soft Due Date<sup><font size="-1">†</font></sup> and Submission Methods</b>
</font><br />

Due on or before Monday, October 01, 2018 in class and have completed the following tasks: 

<ul>

 <li>Turn in 

<ul>
 <li>printouts of all source code: C/C++, (X)HTML, Java, JavaScript, JDBC, Perl, PHP, PL/SQL, Unix shell, SQL (especially <code>create</code> commands), and whatever languages<sup><font size="-1">‡</font></sup>, and
 </li>
 <li>the password for displaying the source code online (only one password for all interfaces and all exercises).
 </li>
</ul>
 </li>
  
 <li>Send an email to the instructor at <a href="mailto:wenchen@cs.und.edu">wenchen@cs.und.edu</a> to set up an appointment to demonstrate your exercise to the instructor individually, so misunderstanding would be minimized.

The instructor will prepare a set of test data to be used by all students.
 </li>
</ul>

<sup><font size="-1">†</font></sup>The purpose of exercises is to make you practice what you have learned, so no penalty will be applied if submitted after the due dates.

However, you may lag behind if you are not able to submit them by the due dates.

<br /><br class="m" />

<sup><font size="-1">‡</font></sup>Note that you are allowed to use any languages and tools for this exercise, but the exams will focus on JDBC and Oracle technologies unless otherwise specified.

<br /><br class="m" />
<hr color="#3366CC" size="3" noshade>
<br class="s" />


<font color="#3366CC" face="Helvetica" size="+1">
 <b>Objectives</b>
</font><br />

Database-driven web sites are a must for companies nowadays. 

This exercise has students design and implement a simple database-driven online gamestore by using Oracle 12c, an object-relational database, from the ground up. 

<br /><br class="s" />

<table width="100%" cellspacing="0" cellpadding="0">
 <tr>
  <td>
   <center>
    <img src="http://undcemcs01.und.edu/~wen.chen.hu/share/figure/system_513.jpg" width="450"  border="2" class="shadow" />
   </center><br />

<!=======================================================================!>

<font color="#3366CC" face="Helvetica" size="+1">
 <b>Requirements</b>
</font><br />

The gamestore includes the following features:

<ul>
 
 <li>The data of a game includes
  <ul>
   <li>a unique ASIN (10 characters),</li>
   <li>a title, </li>
   <li>a list of developers, and</li>
   <li>a price.</li>
  </ul>
 </li><br class="s" />

 <li>The data of a developer includes
  <ul>
   <li>a unique ID (assigned by the system automatically),</li>
   <li>a name, and</li>
   <li>a list of games developed by him or her.</li>
  </ul>
 </li>
</ul>

  </td>
  <td width="3%">
  <td align="right" valign="top">
   <br />
   <div class="img">
    <a target="_parent" href="http://undcemcs01.und.edu/~wen.chen.hu/animate/428.gif">
     <img src="http://undcemcs01.und.edu/~wen.chen.hu/animate/428.gif" width="130" />
    </a><br />
    <a target="_parent" href="http://undcemcs01.und.edu/~wen.chen.hu/animate/350.gif">
     <img src="http://undcemcs01.und.edu/~wen.chen.hu/animate/350.gif" width="130" />
    </a><br />
    <a target="_parent" href="http://undcemcs01.und.edu/~wen.chen.hu/animate/357.gif">
     <img src="http://undcemcs01.und.edu/~wen.chen.hu/animate/357.gif" width="130" />
    </a><br />
    <a target="_parent" href="http://undcemcs01.und.edu/~wen.chen.hu/animate/449.gif">
     <img src="http://undcemcs01.und.edu/~wen.chen.hu/animate/449.gif" width="130" />
    </a>
   </div>
  </td>
 </tr>
</table>

<ul>
 <li>The data of a customer includes
  <ul>
   <li>a unique ID (assigned by the system automatically after signing up),</li>
   <li>a name, and</li>
   <li>an account including
    <ul>
     <li>a list of purchased games (no duplicate games),</li>
     <li>the corresponding quantities of the purchased games (one quantity for each game), and</li>
     <li>a total amount spent on the purchased games.</li>
    </ul>
   </li>
  </ul>
 </li><br class="m" />

 <li><b>(Developers: 05%)</b><br />
  Developers need to create their accounts by entering their names before they could be entered as the developers of a game. 
 </li><br class="m" />

 <li><b>(System administrator: 30% total)</b><br />
  For the one and only one system administrator: 
  <br /><br class="e" />
  <ul>
   <li><b>(Entering games: 10%)</b>
    Enter games one by one.
    User-friendliness will be heavily considered here; for example, the number of developers should not be fixed and the developers&#8217; names should not be entered again and again.
   </li><br class="e" />

   <li><b>(Listing all data: 05%)</b>
    List all hyperlinked game titles, developer names, and customer names.
   </li><br class="e" />

   <li><b>(Deleting the developers: 05%)</b>
    Delete multiple developers at the same time.
    In addition, the corresponding game data has to be updated.
   </li><br class="e" />

   <li><b>(Updating the game prices: 05%)</b>
    Update the prices of several games at the same time.
   </li><br class="e" />

   <li><b>(Adding a developer to a game: 05%)</b>
    Add a developer to a game.
    No action is taken if the developer has already been there. 
   </li>

  </ul>
 </li><br class="m" />

 <li><b>(Customers: 30% total)</b><br />
  For each customer: 
  <br /><br class="e" />
  <ul>
   <li><b>(Customer signing up, in, and out: 10%)</b>
    Customers can sign up, in, and out.
   </li><br class="e" />

   <li><b>(Searching games: 05%)</b>
    Search the games with multiple case-insensitive names; i.e., display a game if its developers include any one of the names entered.
    The query is a list of names separated by spaces.
    Extra spaces before, after, and among the names should be ignored.
    Display all games if the query is empty.
   </li><br class="e" />

   <li><b>(Ranking the search results: 10%)</b>
    Rank the search results based on the number of names matched.
    Each search result includes (i) a checkbox, (ii) a hyperlinked title, and (iii) a textbox for a quantity to purchase the game.
   </li><br class="e" />

   <li><b>(Purchasing games: 05%)</b>
    After searching, purchase the selected games at the same time and update the customer’s account accordingly.
    If the game has been purchased before, add the quantities.
   </li><br class="m" />
  </ul>
 </li>

 <li><b>(Generic functions: 15% total)</b><br />
  For both administrator and customers:
  <br /><br class="e" />
  <ul>
   <li>(<b>Showing game data: 05%)</b>
    List all data of a specific game (including hyperlinked developer names) by clicking its hyperlinked title.
   </li><br class="e" />

   <li>(<b>Showing developer data: 05%)</b>
    List all data of a specific developer (including hyperlinked game titles) by clicking his or her hyperlinked name.
   </li><br class="e" />

   <li><b>(Showing customer data: 05%)</b>
    List all data of a specific customer (including hyperlinked purchased game titles) by clicking his or her hyperlinked name.
    The system administrator can check all customers&#8217; data, but a customer can only check his or her own data.
   </li><br class="m" />
  </ul>
 </li>

 <li><b>(Instructor&#8217;s requirements: 30% total)</b><br />
  Other than the above system requirements, the instructor has the following requirements:
  <br /><br class="e" />
  <ul>
   <li><b>(User-friendliness: 10%)</b>
     User-friendliness will be heavily considered when grading.
     In the past, some exercises were awkward, which made the grading or browsing difficult.
     For example, it is considered not user-friendly if the system repeatedly asks users to enter their names/IDs/passwords.
   </li><br class="e" />

   <li><b>(System reset: 05%)</b>
    The system can be reset, which is to clear all data stored in the database and files, so the instructor can test the system by using only his own test data.
    That is the system has to include a button such as &#8220;Clear system&#8221; on the system entry page.
   </li><br class="e" />

   <li><b>(Security and plagiarism-proof: 15%)</b>
    It is for the instructor to find any plagiarism.
    Each interface includes a button &#8220;Display source,&#8221; which is to list ALL the source code for implementing the functions of this interface.
    Only one password is for all exercises and interfaces.
    The system will be highly suspected if fail to implement this button.
Use the following Perl script <nobr><code>Check.pl</code></nobr> as a template to implement this button and the associated <code>Help</code> button:

  <br /><br class="m" />

<center>
 <table width="100%" border="0" bgcolor="navy" cellpadding="6" cellspacing="2" class="shadow">
  <tr>
   <th bgcolor="#3366CC">
    <font color="white" face="Helvetica" size="+1">
     <code>~/public_html/cgi-bin/demo/encrypt/Check.pl</code>
    </font>
   </th>
  </tr>

  <tr bgcolor="#e6e6e6">
   <td align="left">
     <br class="s" />
     <ol>
      <form method="post" action="http://undcemcs01.und.edu/~wen.chen.hu/cgi-bin/demo/encrypt/Check.pl" target="view1">
      <li>Get a different public key from the server each time: &nbsp;
        <input type="submit" name="act" value="Retrieve"> &nbsp; &nbsp;
        <input type="hidden" name="number" value="25">
        <iframe style="width:100px;height:30px;background-color:ffffff" name="view1">
        </iframe>
      </li>
      </form><br class="s" />

      <form method="post" action="http://undcemcs01.und.edu/~wen.chen.hu/cgi-bin/demo/encrypt/Check.pl" target="view">

      <li>Enter password: <input type="text" size="16" id="password" name="password" value="password">
       &nbsp; & &nbsp; 
       interface: <input type="text" size="5" name="interface" value="1"> &nbsp; in plain text
       <br />
       (During the demo, the instructor will ask you to change your password on the server.)
      </li><br />

      <li>Convert the password into ciphertext on the client side:<br />
       (No server-side script is used in this function assuming the client does not own a server.)
       <br /><br class="s" />
       &nbsp; &nbsp; &nbsp;

       <button type="button" onclick="Convert( )">Convert</button> &nbsp; &nbsp;
       <input type="text" size="32" name="ciphertext" id="ciphertext" value="">

    </li><br />
      
      <li>Send the ciphertext to the server (no plain text is sent except the interface value):
       <br /><br class="s" />
       &nbsp; &nbsp; &nbsp;
       <input type="submit" name="act" value="Display source"> &nbsp; &nbsp;
       <input type="submit" name="act" value="Help"> &nbsp; &nbsp;
       <input type="button" onclick="location.href='https://www.tutorialspoint.com/cryptography/public_key_encryption.htm';" value="Tutorial" /> &nbsp; &nbsp;
       <input type="reset" value="Reset">
      </li>
</form>

     </ol>
     <br class="s" />
     <iframe id="view" name="view" width="99%" height="200" src="http://undcemcs01.und.edu/~wen.chen.hu/bg.html">
     </iframe>
    </form>

   </td>
  </tr>
  <tr bgcolor="#FFFFFF">
   <td><font size="-1">
<pre class="brush:perl">#!/usr/bin/perl
use CGI; 
$query     = new CGI;
$act       = $query->param('act');
$password  = $query->param('password');
$interface = $query->url_param('interface');

if ( $act eq "Display source" ) {
  if ( $password eq "password" ) {
    print( "Content-type: text/plain\n\n" );
    if ( $interface == 1 ) {
      system( "cat 1.cgi;echo '\n\n\n\n\n';cat 1.pl;echo '\n\n\n\n\n';cat 1.java" );
    }
    elsif ( $interface == 2 ) {
      system( "cat 2.cgi;echo '\n\n\n\n\n';cat 2.pl;echo '\n\n\n\n\n';cat 2.java" );
    }
    elsif ( $interface == 3 ) {
      system( "cat 3.cgi;echo '\n\n\n\n\n';cat 3.pl;echo '\n\n\n\n\n';cat 3.java" );
    }
    elsif ( $interface == 4 ) {
      system( "cat 4.cgi;echo '\n\n\n\n\n';cat 4.pl;echo '\n\n\n\n\n';cat 4.java" );
    }
    elsif ( $interface == 5 ) {
      system( "cat 5.cgi;echo '\n\n\n\n\n';cat 5.pl;echo '\n\n\n\n\n';cat 5.java" );
    }
    elsif ( $interface == 6 ) {
      system( "cat 6.cgi;echo '\n\n\n\n\n';cat 6.pl;echo '\n\n\n\n\n';cat 6.java" );
    }
    elsif ( $interface == 7 ) {
      system( "cat 7.cgi;echo '\n\n\n\n\n';cat 7.pl;echo '\n\n\n\n\n';cat 7.java" );
    }
    else {
      print( "\n\n\n     No such interface: $interface" );
    }
  }  
  else {
    print( "Content-type: text/html\n\n" );
    print( "&lt;center>&lt;font size='+2'>&lt;b>Wrong password: &lt;/b>" );
    print( "&lt;i>$password&lt;/i>&lt;/font>" );
    print( "&lt;form>&lt;input type='button' value='Back' onclick='history.go(-1);return false;' />&lt;/center>" );
  }
}
elsif ( $act eq "Help" ) {
  print ( "Content-type: text/html\n\n" );
  system( "cat Help.html" );
}
else {
  print( "Content-type: text/html\n\n" );
  print( "&lt;center>&lt;font size='+2'>&lt;b>No such option: &lt;/b>" );
  print( "&lt;i>$act&lt;/i>&lt;/font>&lt;/center>" );
}</pre></font>

   </td>
  </tr>
 </table>
</center>
<br class="m" />

Modify the password in the Line 09 to the password you pick. 

 </li>
</ul>

 </li>
</ul>
 
<hr color="#3366CC" size="3" noshade>
<br class="s" />
 
<!=================================================================!>
 
<font color="#3366CC" face="Helvetica" size="+1">
 <b>An Example of Web Page Display</b> 
</font><br /> 

Note that this example is not related to this exercise.

It is only to show how to display web interfaces. 

<br /><br class="s" />

<center>
 <iframe width="98%" height="350" src="http://undcemcs01.und.edu/~wen.chen.hu/demo/3/" frameborder="0">
 </iframe>
</center>

<br class="s" />
<hr color="#3366CC" size="3" noshade>
<br class="s" />

<!==================================================!>

<font color="#3366CC" face="Helvetica" size="+1">
 <b>Evaluations</b> 
</font><br /> 
 
The following features will be considered when grading:

<ul>
 <li><b>Specifications:</b>
  <ul>
 <li>The instructor (or your assumed client) has given the exercise specifications as detailedly as possible.
  If you are confused about the specifications, you should ask in advance.
  Study the specifications very carefully.
  No excuses for misunderstanding or missing parts of the specifications after grading. 
 </li>

 <li>The specifications are not possible to cover every detail.
  You are free to implement the issues not mentioned in the specification, but the implementations should make sense.
  Implemented functions lacking of common sense may cause the instructor to grade your exercise mistakenly, and thus lower your grade. 
 </li>

 <li>The exercise must meet the specifications.
  However, exercises with functions exceeding the specifications will not receive extra credits.  
 </li>
  </ul>
 <br />

 <li><b>Grading:</b>
  <ul>
   <li>This exercise will not be graded if the submission methods are not met.
       Students take full responsibility if the web site is not working.
   </li>

   <li>A set of test data will be used by all students.
    The grades are primarily based on the results of testing.
    Other factors such as performance, programming styles, algorithms, and data structures will be only considered minimally. 
   </li>

   <li>Before submitting the exercise, test it comprehensively.
       Absolutely no extra points will be given after grading.
   </li>
   <li>The total weight of exercises is 35% of final grade, 15% for this exercise (ORDB), 10% for Exercise II (app-server database), and 10% for the Exercise III (embedded DB).
   </li>
   <li>Multiple browser tabs, browsers, or computers will be used to test the systems at the same time to make sure the multi-processing is working well.
   </li>
   <li>If not specified, no error checking is required; i.e., you may assume the input is always correct for that case. 
    For example, the ASIN entered will always be a unique key of 10 characters.
   </li>
   <li>Feel free to design your own interfaces; user-friendliness will be heavily considered; each function/button will be tested extensively; and from the source code submitted, the programs will be examined.
   </li>
   <li>Firefox 55 or above browser will be used to grade exercises.
    Note that Internet Explorer, Chrome, and Firefox are not compatible.
    That is your exercises may work on the IE or Chrome but not Firefox.
   </li>
   <li>The systems have to be active and the source-code printouts will be kept until the end of this semester.
    They will be re-checked for plagiarism from time to time.
   </li>
   <li>The instructor will inform you the exercise evaluations by emails after grading.
   </li>
  </ul>
 </li><br />


 <li><b>Databases:</b>
  <ul>
   <li>An object-relational database has to be used and try to perform the tasks by using SQL as much as possible because SQL, a non-procedural language, can save you a great deal of programming efforts.
   </li>

   <li>The SQL DDL commands such as &#8220;<code>create table</code>&#8221; have to be submitted, where SQL is Structured Query Language and DDL is Data Definition Language.
   </li>

   <li>From the source code submitted, the database design and programs will be examined.
    Poor database design or uses will result in a lower grade.
   </li>

   <li><b>(-30%)</b> if the object-relational database Oracle 12c is NOT used.
   </li>

   <li><b>(-15%)</b> if any of the following Oracle 12c features is NOT used (i) <a href="https://docs.oracle.com/cd/A87860_01/doc/java.817/a83723/objcoll2.htm#1004106">collection types</a>, (ii) <a href="https://docs.oracle.com/cd/A87860_01/doc/java.817/a83723/objcoll4.htm#1004241">user-defined types</a>, and (iii) at least three non-trivial <a href="http://docs.oracle.com/cd/B10501_01/appdev.920/a96595/dci05pls.htm">member methods</a> using PL/SQL (like 15+ lines each method).
   </li>

   <li><b>(-10%)</b> if the database design is NOT optimal.
   </li>

   <li><b>(-05%)</b> if the SQL <code>create</code> commands of database implementation is NOT submitted.
   </li>

   <li>There are many advantages of using databases.
    If database is not used, the problems caused by not-using-transaction must be considered.
    For example, if two customers are enrolled at the same time, an ID may be assigned to different customers if databases are not used.
   </li>
  </ul>
 </li><br />



 <li><b>Comments:</b>
  <ul>
   <li>Make the exercise work first.
    Do not include extra features, such as user passwords, in the beginning.
    By the way, you will not receive credits for the extra features.
   </li>

   <li>One way to build a complex web system from scratch is to design the user interfaces first and then implement the system button by button.
    By doing this way, it could simplify the construction. 
    The recommended construction steps are

    <br /><br class="s" />
    <ol type="i">
     <li>Database design (E-R modeling or normalization),</li>
     <li>Database implementation (SQL),</li>
     <li>Interface building (HTML and CSS), and</li>
     <li>Button-by-button implementation (JDBC).</li>
    </ol><br class="s" />
   </li>

   <li>The demonstration above uses several languages such as HTML, CSS, Unix shell, Perl, PHP, and Java.
    A good programmer is not limited by specific languages.
    Use the languages when they are the most appropriate for the need; for example, Perl is good at string processing, PHP is designed for web processing, and shell scripts are powerful.
   </li>

   <li>Many times, simplicity is the same as user-friendliness. 
   </li>

   <li>Security is critical for all websites.
    Students practice a simple security method in this exercise.
    However, small or medium -size businesses do not usually implement their own secure payment schemes.
    Instead they use a third-party payment system such as <a href="http://www.paypal.com">PayPal</a> or purchase software from company like <a href="http://www.cayan.com">Cayan</a> and integrate it with their websites.
   </li>

   <li>The function of automatically sending emails is important for e-commerce systems, but will not be used here since companies complained our students sending out numerous mails because of faulty programs.
   </li>
  </ul>
 </li>
</ul>

  <br /><br /><br /><br /><br />
 </body>
</html>

